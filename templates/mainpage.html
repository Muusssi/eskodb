{% extends esko_template.html %}
{% block head %}
  <script type="text/javascript">
  /* When the user clicks on the button,
  toggle between hiding and showing the dropdown content */
  function toggleDropDown(dropdown_name) {
    document.getElementById(dropdown_name).classList.toggle("show");
  }

  // Close the dropdown if the user clicks outside of it
  window.onclick = function(event) {
    if (!event.target.matches('.dropbtn')) {
      var dropdowns = document.getElementsByClassName("dropdown-content");
      var i;
      for (i = 0; i < dropdowns.length; i++) {
        var openDropdown = dropdowns[i];
        if (openDropdown.classList.contains('show')) {
          openDropdown.classList.remove('show');
        }
      }
    }
  }
  </script>
{% end %}
{% block body %}

  <H1>Eskon tulospalvelu</H1>
  <!-- <img id="logo" src="http://maunula.net/2005/luonto/palokarki.jpg"> -->

  <table id="recent_results_table" class="table-striped table-hover">
    <tr>
      <th colspan="6">Viimeisimmät pelit:</th>
    </tr>
    <tr>
      <th>päivämäärä</th>
      <th>#</th>
      <th>rata</th>
      <th>pelaaja</th>
      <th>tulos</th>
      <th>par</th>
    </tr>
    {% for game_date, game_of_day, course_name, course_id, player, res, par in latest %}
      <tr>
        <td>{{game_date}}</td>
        <td>{{game_of_day}}</td>
        <td>{{course_name}}</td>
        <td>{{player}}</td>
        {% if bests[course_id] == res %}
          <td class="esko_best" title="Esko best">{{res}}</td>
          <td class="esko_best" title="Esko best">{{par}}</td>
        {% elif bests[(course_id, player)] == res %}
          <td class="personal_best" title="Personal best">{{res}}</td>
          <td class="personal_best" title="Personal best">{{par}}</td>
        {% else %}
          <td>{{res}}</td>
          <td>{{par}}</td>
        {% end %}
      </tr>
    {% end %}
  </table>



{% end %}

